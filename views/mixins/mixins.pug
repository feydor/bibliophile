<!-- Pug mixins -->
<!-- –––––––––––––––––––––––––––––––––––––––––––––––––– -->
mixin brandingLink(brandText) 
  a.sidebar-brand.d-flex.align-items-center.justify-content-center(href="/")
    div.sidebar-brand-icon.rotate-n-15
      i.fas.fa-book
    div.sidebar-brand-text.mx-3= brandText

mixin sidebarMessageCard(imgsrc, strToEmphasize, message, link, linkStr)
  .sidebar-card
    img.sidebar-card-illustration.mb-2(src=imgsrc alt="")
    p.text-center.mb-2 #[strong= strToEmphasize]
    p.text-center.mb-2= message
    if link != undefined && linkStr != undefined
      a.btn.btn-success.btn-sm(href=link)= linkStr

mixin topBarSearch
  form.d-none.d-sm-inline-block.form-inline.mr-auto.ml-md-3.my-2.my-md-0.mw-100.navbar-search
    div.input-group
      input.form-control.bg-light.border-0.small(type="text" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2")
      div.input-group-append
        button.btn.btn-primary(type="button")
          i.fas.fa-search.fa-sm

mixin topBarSearchDropdown
  li.nav-item.dropdown.no-arrow.d-sm-none
    a#searchDropdown.nav-link.dropdown-toggle(href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false")
      i.fas.fa-search.fa-fw
    // Dropdown messages (toggle class show)
    div.dropdown-menu.dropdown-menu-right.p-3.shadow.animated--grow-in(aria-labelledby="searchDropdown")
      form.form-inline.mr-auto.w-100.navbar-search
        div.input-group
          input.form-control.bg-light.border-0.small(type="text" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2")
          div.input-group-append
            button.btn.btn-primary(type="button")
              i.fas.fa-search.fa-sm

// ex: +Alert("December 18, 2021", "Hello!", "fa-donate")
mixin Alert(date, message, faIcon) 
  a.dropdown-item.d-flex.align-items-center(href="#")
    div.mr-3
      div.icon-circle.bg-success
        i.fas.text-white(class=faIcon)
    div
      div.small.text-gray-500= date
      p= message

// Put alerts after and under this mixin call
mixin topbarAlerts(numberOfAlerts)
  li.nav-item.dropdown.no-arrow.mx-1
    a#alertsDropdown.nav-link.dropdown-toggle(href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false")
      i.fas.fa-bell.fa-lg.fa-fw
      // Counter - Alerts
      if numberOfAlerts > 3
        span.badge.badge-danger.badge-counter 3+
      else 
        span.badge.badge-danger.badge-counter= numberOfAlerts
    // Dropdown - Alerts (toggle class show)
    div.dropdown-list.dropdown-menu.dropdown-menu-right.shadow.animated--grow-in(aria-labelledby="alertsDropdown")
      h6.dropdown-header Alerts Center
      // Add alerts after here
      block
      a.dropdown-item.text-center.small.text-gray-500(href="#") Show All Alerts

mixin Message(message, username, dateAndTime, imgSrc) 
  a.dropdown-item.d-flex.align-items-center(href="#")
    div.dropdown-list-image.mr-3
      img.rounded-circle(src=imgSrc alt="")
      div.status-indicator.bg-success
    div.font-weight-bold
      div.text-truncate= message
      div.small.text-gray-500= username 
        span ·
          span= dateAndTime

// Put messages after and under this mixin call
mixin topBarMessages(numberOfMessages)
  li.nav-item.dropdown.no-arrow.mx-1
    a#messagesDropdown.nav-link.dropdown-toggle(href="#" role="button" data-toggle="dropdown" 
      aria-haspopup="true" aria-expanded="false")
      i.fas.fa-envelope.fa-lg.fa-fw
      // Counter - Messages
      if numberOfMessages > 3
        span.badge.badge-danger.badge-counter 3+
      else 
      span.badge.badge-danger.badge-counter= numberOfMessages
    // Dropdown - Messages (toggle class show)
    div.dropdown-list.dropdown-menu.dropdown-menu-right.shadow.animated--grow-in(
      aria-labelledby="messagesDropdown")
      h6.dropdown-header Message Center
      // Add messages after here
      block
      a.dropdown-item.text-center.small.text-gray-500(href="#") Read More Messages

mixin accordianSidebar()
  ul#accordianSidebar.navbar-nav.bg-primary.sidebar.sidebar-dark.accordian.toggled
    // Sidebar - Brand
    a.sidebar-brand.d-flex.align-items-center.justify-content-center(href="/")
      div.sidebar-brand-icon.rotate-n-15
        i.fas.fa-book
      div.sidebar-brand-text.mx-3 VLibrary

    // Sidebar - Divider
    hr.sidebar-divider.my-0
    
    // TODO: if user == undefined show HOME else show DASHBOARD
    // Nav Item - Home
    li.nav-item.active
      a.nav-link(href="/")
        i.fas.fa-fw.fa-home
        span Home

    // Nav Item - Dashboard
    li.nav-item.active
      a.nav-link(href="/dashboard")
        i.fas.fa-fw.fa-tachometer-alt
        span Dashboard
    
    hr.sidebar-divider
    
    // Sidebar - Heading
    div.sidebar-heading Interface

    // Nav Item - Pages Collapse Menu
    li.nav-item
      a.nav-link.collapsed(href="#" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo")
        i.fas.fa-fw.fa-cog
        span Components
      div.collapse#collapseTwo(aria-labelledby="headingTwo" data-parent="#accordionSidebar")
        div.bg-white.py-2.collapse-inner.rounded
          h6.collapse-header Custom Components:
          a.collapse-item(href="#") Buttons
          a.collapse-item(href="#") Cards

    hr.sidebar-divider

    // Sidebar - Sidebar toggler (toggle class toggled on #accordianSidebar)
    .text-center.d-none.d-md-inline
      button#sidebarToggle.rounded-circle.border-0

    // Sidebar Message
    .sidebar-card
      img.sidebar-card-illustration.mb-2(src="images/undraw_rocket.svg" alt="")
      p.text-center.mb-2 #[strong Virtual Library] is packed with premium features and more!
      a.btn.btn-success.btn-sm(href="#") Start!

  // END of Sidebar
