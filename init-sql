CREATE TABLE library.books (
    id INT AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    author VARCHAR(255) NOT NULL,
    publisher VARCHAR(255),
    publish_date VARCHAR(255),
    isbn REAL NOT NULL,
    subject VARCHAR(255),
    coverurl VARCHAR(2083) NOT NULL,
    PRIMARY KEY(id)
);

INSERT INTO library.books (title, author, publisher, publish_date, isbn, subject, coverurl)
VALUES ('Thus Spoke Zarathustra', 'Friedrich Nietzsche', 'Penguin Books', '1978', '9780140047486', 'Philosophy', 'https://covers.openlibrary.org/b/id/8727980-M.jpg'),
('A Connecticut Yankee in King Arthur''s Court', 'Mark Twain', 'Dover Publications', '2001', '0486415910', 'Time Travel', 'https://covers.openlibrary.org/b/id/313169-M.jpg');


CREATE TABLE library.users (
    id INT AUTO_INCREMENT,
    username VARCHAR(255) NOT NULL,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    email varchar(255) NOT NULL,
    PRIMARY KEY(id)
);

INSERT INTO library.users (username, first_name, last_name, email)
VALUE ('atrab@energyce.cyou', 'Faker 2', 'BOTTOM_TEXT', 'atrab@energyce.cyou');

// sets up relationship between many users and many books
CREATE TABLE library.library (
    id INT AUTO_INCREMENT,
    userid INT,
    bookid INT,
    PRIMARY KEY(id)
);

INSERT INTO library.library (userid, bookid)
VALUES ('1', '1'),
       ('1', '2');

// delete SQL tables
DROP TABLE library.books;
DROP TABLE library.users;
DROP TABLE library.libraries;


// get book titles belonging to a user, by username
SELECT title
FROM books 
INNER JOIN library ON books.id = library.bookid
INNER JOIN users ON users.id = library.userid
where users.username = 'atrab@anette.website';

